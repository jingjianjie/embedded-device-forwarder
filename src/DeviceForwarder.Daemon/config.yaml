# Device Forwarder Configuration
# This file configures the host link and serial channels

# Host Link Configuration
# Supports two modes: "tcp" (network) or "usb" (USB virtual serial port)
host_link:
  # Link mode: "tcp" for TCP server, "usb" for USB virtual serial port
  mode: "tcp"
  
  # TCP mode settings (used when mode is "tcp")
  # IP address to bind to (0.0.0.0 for all interfaces)
  bind_address: "0.0.0.0"
  # TCP port to listen on
  port: 5000
  # Maximum concurrent client connections
  max_connections: 10
  
  # USB mode settings (used when mode is "usb")
  # USB serial device path (typically /dev/ttyGS0 for USB gadget mode)
  usb_serial_device: "/dev/ttyGS0"
  
  # Common settings for both modes
  # Connection timeout in seconds
  connection_timeout_seconds: 30
  # Heartbeat interval in seconds (0 to disable)
  heartbeat_interval_seconds: 10

# Serial Channel Configuration
# Each channel maps a unique ID to a serial device
channels:
  # Example channel for a USB serial adapter
  - id: 1
    name: "USB Serial 0"
    device_path: "/dev/ttyUSB0"
    baudrate: 115200
    data_bits: 8
    parity: "None"
    stop_bits: "One"
    enabled: true

  # Example channel for Raspberry Pi UART
  - id: 2
    name: "Pi UART"
    device_path: "/dev/ttyAMA0"
    baudrate: 9600
    data_bits: 8
    parity: "None"
    stop_bits: "One"
    enabled: true

  # Example channel for another USB serial adapter
  - id: 3
    name: "USB Serial 1"
    device_path: "/dev/ttyUSB1"
    baudrate: 38400
    data_bits: 8
    parity: "Even"
    stop_bits: "One"
    enabled: false

# Logging configuration
log_level: "Information"  # Trace, Debug, Information, Warning, Error, Critical
